<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Registo</title>
    <link rel="apple-touch-icon" sizes="57x57" href="images/favicon//apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="images/favicon//apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/favicon//apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/favicon//apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/favicon//apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/favicon//apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="images/favicon//apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/favicon//apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon//apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="images/favicon//android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon//favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/favicon//favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon//favicon-16x16.png">
    <link rel="manifest" href="images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <meta charset="utf-8"/>
</head>

<body>
    <div class="preloader"></div><!-- /.preloader -->
    <div class="page-wrapper">
       <header class="site-header header-one">
            <!--
                 <div class="top-bar">
                         <div class="container">
                             <div class="left-block">






                                 <a href="mailto:cdhelp@gmail.com"><i class="fa fa-envelope"></i> cdhelp@gmail.com</a>
                             </div><!-- /.left-block -->


<!--

            <div class="social-block">
                <a href="#"><i class="fa fa-twitter"></i></a>
                <a href="#"><i class="fa fa-facebook-f"></i></a>
                <a href="#"><i class="fa fa-youtube-play"></i></a>
                <a href="#"><i class="fa fa-google-plus"></i></a>
            </div><!-- /.social-block -->
    
        <br />
      <nav class="navbar navbar-expand-lg navbar-light header-navigation stricky">
        <div class="container clearfix" style="width: 875px;">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="logo-box clearfix">
                <button class="menu-toggler" data-target="#main-nav-bar">
                    <span class="fa fa-bars"></span>
                </button>
            </div><!-- /.logo-box -->
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="main-navigation" id="main-nav-bar">

                <ul class="navigation-box" style="width: 590px;">
                    <li class=" current ">
                        <a href="mapa.html">Home</a>
                    <!-- /.sub-menu -->
                </li>
                <li><a href="about2.html">Sobre</a></li>
              
                <li><a href="contact2.html">Contactos</a></li>
            

    

            </div><!-- /.navbar-collapse -->

            <div class="right-side-box">
              <a buttom href="perfil.html" class="contact-btn-block"  style="text-align:center; padding-bottom: 37px;padding-right: 65px; color:#D76A29; font-size:150%;"> 
                   &nbsp;     &nbsp; Meu Perfil
                   
                    <span class="text-block">
                        
                        <span class="tag-line"></span>
                    </span>
                </a>
            </div><!-- /.right-side-box -->

             

        </div>
       

        <!-- /.container -->
    </nav>
    </header><!-- /.site-header header-one -->
       
          <section class="book-ride-one" style="padding-top: 230px;">
        <img src="images/index/booking-bg-1-1.png" class="footer-bg" alt="Awesome Image" />
        <div class="container">
            <div class="row">
                <div class="col-lg-4" style="bottom: 50px;">
                    <div class="content-block" style="bottom: 50px;">
                        <div class="block-title mb-0">
                            <div class="dot-line"></div><!-- /.dot-line -->
                            <p class="light">Procura transporte?</p>
                            <h2 class="light">Faz aqui <br> o teu registo</h2>
                        </div><!-- /.block-title -->
                        <p>Garante a melhor oferta. <br> Aqui encontras tudo o que precisas.</p>
                    </div><!-- /.content-block -->
                </div><!-- /.col-lg-4 -->
                <div class="col-lg-8">
                    <form action="" class="booking-form-one">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="input-holder">
                                    <input type="text" name="first_name" id="first_name" placeholder="Primeiro nome" required>
                                </div><!-- /.input-holder -->
                            </div><!-- /.col-lg-6 -->
                            <div class="col-lg-6">
                                <div class="input-holder">
                                    <input type="text" name="last_name" id="last_name" placeholder="Ultimo nome" required>
                                </div><!-- /.input-holder -->
                            </div><!-- /.col-lg-6 -->
                            <div class="col-lg-6">
                                <div class="input-holder">
                                    <input type="email" name="email" id="emailReg" placeholder="E-mail" required>
                                </div><!-- /.input-holder -->
                            </div><!-- /.col-lg-6 -->
                            <div class="col-lg-6">
                                <div class="input-holder">
                                    <input type="text" name="morada" id="morada" placeholder="Morada" required>
                                </div><!-- /.input-holder -->
                            </div><!-- /.col-lg-6 -->
                            <div class="col-lg-6">
                                <div class="input-holder">
                                    <input type="password" id="password_Registo" name="password_Registo" placeholder="Password" required>
                                    
                                   
                                </div><!-- /.input-holder -->
                            </div><!-- /.col-lg-6 -->

                            <div class="col-lg-6">
                                  <div class="input-holder">
                                    <input type="password" id="re_password" name="re_password" placeholder="Repetir Password" required>
                                      <script>
                                          var password = document.getElementById("password_Registo")
                                              , confirm_password = document.getElementById("re_password");

                                          function validatePassword() {
                                              if (password.value != confirm_password.value) {
                                                  confirm_password.setCustomValidity("Passwords n�o correspondem");
                                              } else {
                                                  confirm_password.setCustomValidity('');
                                              }
                                          }

                                          password.onchange = validatePassword;
                                          confirm_password.onkeyup = validatePassword;</script>
                                </div><!-- /.input-holder -->
                            </div><!-- /.col-lg-6 -->
                            <div class="col-lg-6">
                                <div class="input-holder">
                                    <button type="submit" name="submit" id="btnReg">Registar</button>
                                </div><!-- /.input-holder -->
                            </div><!-- /.col-lg-6 -->
                        </div><!-- /.row -->
                    </form><!-- /.booking-form-one -->
                </div><!-- /.col-lg-8 -->
            </div><!-- /.row -->
        </div><!-- /.container -->
    </section><!-- /.book-ride-one -->
   <footer class="site-footer">
       
        <div class="upper-footer">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3">
                        <div class="footer-widget about-widget">
                            <div class="widget-title">
                                <h3>Sobre</h3>
                            </div><!-- /.widget-title -->
                            <p>Garantimos sempre o melhor preço para viajares para qualquer sitio</p>
                            <div class="social-block">
                                <a href="#"><i class="fa fa-twitter"></i></a>
                                <a href="#"><i class="fa fa-facebook-f"></i></a>
                                <a href="#"><i class="fa fa-youtube-play"></i></a>
                                <a href="#"><i class="fa fa-google-plus"></i></a>
                            </div><!-- /.social-block -->
                        </div><!-- /.footer-widget about-widget -->
                    </div><!-- /.col-lg-3 -->
                    <div class="col-lg-2">
                        <div class="footer-widget">
                            <div class="widget-title">
                                <h3>Links</h3>
                            </div><!-- /.widget-title -->
                            <ul class="link-lists">
                                <li><a href="about.html">Sobre</a></li>
                                <li><a href="driver.html">Condutores</a></li>
                                <li><a href="taxi.html">Veiculos</a></li>
                                <li><a href="contact.html">Contactos</a></li>
                               
                            </ul>
                        </div><!-- /.footer-widget -->
                    </div><!-- /.col-lg-2 -->
                    <div class="col-lg-3">
                        <div class="footer-widget">
                            <div class="widget-title">
                                <h3>Contacto</h3>
                            </div><!-- /.widget-title -->
                            <p>Universidade do Minho <br>Guimarães, Portugal</p>
                            <ul class="contact-infos">
                                <li><i class="fa fa-envelope"></i> cdhelp@gmail.com</li>
                                <li><i class="fa fa-phone-square"></i> 917805414</li>
                            </ul><!-- /.contact-infos -->
                        </div><!-- /.footer-widget -->
                    </div><!-- /.col-lg-3 -->
                    <div class="col-lg-4">
                        <div class="footer-widget">
                            <div class="widget-title">
                                <h3>Noticias</h3>
                            </div><!-- /.widget-title -->
                            <p>Subscreva já o nosso serviço de noticias <br> para receber novidades do CheapDrive.</p>
                            <form action="#" class="subscribe-form">
                                <input type="text" name="email" placeholder="Insira o seu Email">
                                <button type="submit">Ir</button>
                            </form>
                        </div><!-- /.footer-widget -->
                    </div><!-- /.col-lg-4 -->
                </div><!-- /.row -->
            </div><!-- /.container -->
        </div><!-- /.upper-footer -->
        <div class="bottom-footer">
            <div class="container">
                <div class="inner-container">
                    <div class="left-block">
                        <a href="index.html" class="footer-logo"><img src="images/index/logo.png" alt="Awesome Image" /></a>
                    </div><!-- /.left-block -->
                    <div class="right-block">
                        <ul class="link-lists">
                            <li><a href="#">Terms of Use</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                        </ul>
                    </div><!-- /.right-block -->
                </div><!-- /.inner-container -->
            </div><!-- /.container -->
        </div><!-- /.bottom-footer -->
    </footer><!-- /.site-footer -->
    </div><!-- /.page-wrapper -->
    <a href="#" data-target="html" class="scroll-to-target scroll-to-top"><i class="fa fa-angle-up"></i></a>
    <!-- /.scroll-to-top -->
    <script>
    const btnRegisto = document.getElementById("btnReg")

    btnRegisto.addEventListener('click', function(){
    var data = {};
    data.email = document.getElementById("emailReg").value;
    data.password = document.getElementById("password_Registo").value;
    data.firstname = document.getElementById("first_name").value;
    data.lastname = document.getElementById("last_name").value;
    data.tipo = "Utilizador";
    data.username = document.getElementById("morada").value;
    console.log(data); //debugging para ver os dados que foram enviados

    //chamada fetch para envio dos dados para o servior via POST

    fetch('http://localhost:8080/signup', {
    headers: { 'Content-Type': 'application/json' },
    method: 'POST',
    body: JSON.stringify(data)
    }).then(response => {
    if (!response.ok) {
    throw new Error(response.statusText);
    }
    return response.json();
    })
    .catch(error => {
    swal({title: `${result.value.err_message}`})
    });
    alert("Registo efetuado  com sucesso!");
    });
</script>

    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/bootstrap-select.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/waypoints.min.js"></script>
    <script src="js/jquery.counterup.min.js"></script>
    <script src="js/jquery.bxslider.min.js"></script>
    <script src="js/theme.js"></script>
</body>

</html>